<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>北斗候鸟天眼互联系统-云端</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.8/dist/chart.umd.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#22C55E',
            secondary: '#10B981',
            accent: '#4ADE80',
            dark: '#1E293B',
            light: '#F8FAFC'
          },
          fontFamily: {
            inter: ['Inter', 'sans-serif'],
          },
        },
      }
    }
  </script>
  
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .bg-gradient-blue {
        background: linear-gradient(135deg, #22C55E 0%, #10B981 100%);
      }
      .card-hover {
        transition: all 0.3s ease;
      }
      .card-hover:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      }
    }
  </style>
</head>
<body class="font-inter bg-light text-dark antialiased">
  <!-- 导航栏 -->
  <nav id="navbar" class="fixed w-full z-50 transition-all duration-300 bg-white/90 backdrop-blur-sm shadow-sm">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between h-16">
        <div class="flex items-center">
          <div class="flex items-center">
            <img src="C:\Users\ZhuanZ（无密码）\Desktop\BBMS\1.jpeg" alt="系统图标" class="h-8 w-8 mr-2">
            <span class="text-xl font-semibold">北斗候鸟天眼互联系统</span>
          </div>
          <div class="hidden sm:ml-8 sm:flex space-x-8">
            <a href="#home" class="text-dark hover:text-primary px-3 py-2 text-sm font-medium transition-colors duration-200">首页</a>
            <a href="#map" class="text-dark hover:text-primary px-3 py-2 text-sm font-medium transition-colors duration-200">候鸟轨迹</a>
            <a href="#knowledge" class="text-dark hover:text-primary px-3 py-2 text-sm font-medium transition-colors duration-200">保护知识</a>
            <a href="#policy" class="text-dark hover:text-primary px-3 py-2 text-sm font-medium transition-colors duration-200">保护政策</a>
            <a href="#suggestion" class="text-dark hover:text-primary px-3 py-2 text-sm font-medium transition-colors duration-200">意见反馈</a>
          </div>
        </div>
        <div class="flex items-center">
          <button id="loginBtn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200" onclick="window.location.href='index1.html'">
            登录
          </button>
          <div class="ml-4 flex items-center sm:ml-6">
            <button type="button" class="p-1 rounded-full text-dark hover:text-primary focus:outline-none focus:ring-2 focus:ring-primary/50">
              <span class="sr-only">查看通知</span>
            </button>
            <div class="ml-3 relative">
              <div class="hidden sm:block">
                <button type="button" class="flex items-center text-sm rounded-full focus:outline-none focus:ring-2 focus:ring-primary/50 cursor-pointer" id="user-menu-button" onclick="window.location.href='index2.html'">
                  <span id="usernameDisplay" class="mr-2 hidden"></span>
                  <span class="sr-only">打开用户菜单</span>
                  <img class="h-8 w-8 rounded-full object-cover" src="https://picsum.photos/200/200?random=1" alt="用户头像">
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="flex items-center sm:hidden">
          <button type="button" class="text-dark hover:text-primary" id="mobile-menu-button">
            <i class="fa fa-bars text-xl"></i>
          </button>
        </div>
      </div>
    </div>
    <!-- 移动端菜单 -->
    <div id="mobile-menu" class="hidden sm:hidden bg-white shadow-lg">
      <div class="px-2 pt-2 pb-3 space-y-1">
        <a href="#home" class="text-dark hover:text-primary block px-3 py-2 text-base font-medium">首页</a>
        <a href="#map" class="text-dark hover:text-primary block px-3 py-2 text-base font-medium">候鸟轨迹</a>
        <a href="#knowledge" class="text-dark hover:text-primary block px-3 py-2 text-base font-medium">保护知识</a>
        <a href="#policy" class="text-dark hover:text-primary block px-3 py-2 text-base font-medium">保护政策</a>
        <a href="#suggestion" class="text-dark hover:text-primary block px-3 py-2 text-base font-medium">意见反馈</a>
      </div>
    </div>
  </nav>

  <!-- 英雄区 -->
  <section id="home" class="pt-24 pb-16 bg-gradient-blue text-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col md:flex-row items-center">
        <div class="md:w-1/2 mb-8 md:mb-0">
          <h1 class="text-[clamp(2rem,5vw,3.5rem)] font-bold leading-tight text-shadow">
            北斗候鸟天眼互联系统
          </h1>
          <p class="mt-4 text-lg md:text-xl text-white/90 max-w-lg">
            利用北斗卫星定位技术，实时追踪候鸟迁徙轨迹，助力生物多样性保护，共建生态文明。
          </p>
          <div class="mt-8 flex space-x-4">
            <a href="#map" class="bg-white text-primary hover:bg-white/90 px-6 py-3 rounded-md font-medium transition-colors duration-200 flex items-center">
              <i class="fa fa-map-marker mr-2"></i> 查看轨迹
            </a>
            <a href="#knowledge" class="bg-transparent border-2 border-white text-white hover:bg-white/10 px-6 py-3 rounded-md font-medium transition-colors duration-200 flex items-center">
              <i class="fa fa-book mr-2"></i> 学习知识
            </a>
          </div>
        </div>
        <div class="md:w-1/2 flex justify-center">
          <div class="relative">
            <img src="C:\Users\ZhuanZ（无密码）\Desktop\BBMS\2.jpg" alt="候鸟迁徙轨迹图" class="rounded-lg shadow-xl max-w-full h-auto">
            <div class="absolute -bottom-4 -right-4 bg-secondary text-white p-3 rounded-lg shadow-lg transform rotate-3">
              <p class="font-medium">实时追踪中</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 系统数据概览 -->
  <section class="py-12 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-dark">系统数据概览</h2>
        <p class="mt-2 text-gray-600 max-w-2xl mx-auto">实时掌握候鸟迁徙动态，为保护工作提供数据支持</p>
      </div>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
        <div class="bg-white rounded-xl shadow-md p-6 card-hover border-l-4 border-primary">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-dark">监测候鸟</h3>
            <div class="bg-primary/10 p-2 rounded-full">
              <i class="fa fa-dove text-primary"></i>
            </div>
          </div>
          <p class="text-3xl font-bold text-dark" id="birdCount">0</p>
          <p class="text-gray-500 mt-1">种不同候鸟</p>
        </div>
        
        <div class="bg-white rounded-xl shadow-md p-6 card-hover border-l-4 border-secondary">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-dark">活跃追踪点</h3>
            <div class="bg-secondary/10 p-2 rounded-full">
              <i class="fa fa-map-marker text-secondary"></i>
            </div>
          </div>
          <p class="text-3xl font-bold text-dark" id="trackingPoints">0</p>
          <p class="text-gray-500 mt-1">个实时追踪设备</p>
        </div>
        
        <div class="bg-white rounded-xl shadow-md p-6 card-hover border-l-4 border-accent">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-dark">迁徙路线</h3>
            <div class="bg-accent/10 p-2 rounded-full">
              <i class="fa fa-road text-accent"></i>
            </div>
          </div>
          <p class="text-3xl font-bold text-dark" id="migrationRoutes">0</p>
          <p class="text-gray-500 mt-1">条已识别路线</p>
        </div>
        
        <div class="bg-white rounded-xl shadow-md p-6 card-hover border-l-4 border-dark">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold text-dark">数据更新</h3>
            <div class="bg-dark/10 p-2 rounded-full">
              <i class="fa fa-clock-o text-dark"></i>
            </div>
          </div>
          <p class="text-3xl font-bold text-dark" id="lastUpdate">--</p>
          <p class="text-gray-500 mt-1">最近更新时间</p>
        </div>
      </div>
    </div>
  </section>

  <!-- 候鸟轨迹图 -->
  <section id="map" class="py-16 bg-gray-50">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-dark">候鸟轨迹地图</h2>
        <p class="mt-2 text-gray-600 max-w-2xl mx-auto">实时监测候鸟迁徙路线，探索大自然的奇妙旅程</p>
      </div>
      
      <div class="bg-white rounded-xl shadow-lg p-6 mb-8">
        <div class="flex flex-col md:flex-row justify-between mb-6">
          <div class="mb-4 md:mb-0">
            <label for="birdType" class="block text-sm font-medium text-gray-700 mb-1">选择候鸟种类</label>
            <select id="birdType" class="w-full md:w-auto px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary">
              <option value="all">全部种类</option>
              <option value="crane">白鹤</option>
              <option value="swan">天鹅</option>
              <option value="goose">大雁</option>
              <option value="duck">野鸭</option>
            </select>
          </div>
          
          <div class="flex space-x-4">
            <button id="simulateBtn" class="bg-primary hover:bg-primary/90 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center">
              <i class="fa fa-refresh mr-1"></i> 模拟位置更新
            </button>
            <button id="generateRouteBtn" class="bg-secondary hover:bg-secondary/90 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center">
              <i class="fa fa-magic mr-1"></i> 生成轨迹图
            </button>
            <a href="index3.html" class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200 flex items-center">
              <i class="fa fa-search mr-1"></i> 查看详细轨迹
            </a>
          </div>
        </div>
        
        <!-- 地图容器 -->
        <div class="relative h-[500px] rounded-lg overflow-hidden border border-gray-200" id="mapContainer">
          <canvas id="migrationMap" class="w-full h-full"></canvas>
          <!-- 地图加载状态 -->
          <div id="mapLoading" class="absolute inset-0 flex items-center justify-center bg-white/80 z-10">
            <div class="text-center">
              <div class="inline-block animate-spin rounded-full h-8 w-8 border-4 border-primary border-t-transparent mb-2"></div>
              <p class="text-gray-600">加载地图中...</p>
            </div>
          </div>
        </div>
        
        <!-- 经纬度信息 -->
        <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-4">
          <div class="bg-gray-50 p-4 rounded-lg">
            <h4 class="text-sm font-medium text-gray-700 mb-1">当前选中位置</h4>
            <div class="flex items-center">
              <div class="flex-1">
                <p class="text-sm text-gray-500">纬度</p>
                <p class="text-lg font-medium" id="currentLat">--</p>
              </div>
              <div class="flex-1">
                <p class="text-sm text-gray-500">经度</p>
                <p class="text-lg font-medium" id="currentLng">--</p>
              </div>
            </div>
          </div>
          
          <div class="bg-gray-50 p-4 rounded-lg">
            <h4 class="text-sm font-medium text-gray-700 mb-1">候鸟信息</h4>
            <div class="flex items-center">
              <img id="birdImage" src="https://picsum.photos/60/60?random=3" alt="候鸟图片" class="w-12 h-12 rounded-full mr-3 object-cover">
              <div>
                <p class="text-lg font-medium" id="birdName">--</p>
                <p class="text-sm text-gray-500" id="birdStatus">--</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- 候鸟迁徙数据统计 -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="bg-white rounded-xl shadow-lg p-6">
          <h3 class="text-lg font-semibold text-dark mb-4">候鸟数量统计（模拟）</h3>
          <div class="h-[300px]">
            <canvas id="birdCountChart"></canvas>
          </div>
        </div>
        
        <div class="bg-white rounded-xl shadow-lg p-6">
          <h3 class="text-lg font-semibold text-dark mb-4">迁徙季节分布</h3>
          <div class="h-[300px]">
            <canvas id="migrationSeasonChart"></canvas>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 候鸟保护知识 -->
  <section id="knowledge" class="py-16 bg-white">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-[clamp(1.5rem,3vw,2.5rem)] font-bold text-dark">候鸟保护知识</h2>
        <p class="mt-2 text-gray-600 max-w-2xl mx-auto">了解候鸟生态特征，共同参与保护行动</p>
      </div>
      
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
        <!-- 知识卡片1 -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover">
          <img src="C:\Users\ZhuanZ（无密码）\Desktop\BBMS\colorhub.jpg" alt="候鸟迁徙的意义" class="w-full h-48 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-semibold text-dark mb-2">候鸟迁徙的意义</h3>            <p class="text-gray-600 mb-4">候鸟迁徙是一种季节性的、长距离的移动行为，对于维持生态平衡、传播种子、控制害虫等方面都有着重要作用。</p>
            <a href="index5.html" class="text-primary hover:text-primary/80 font-medium inline-flex items-center">
              阅读更多 <i class="fa fa-arrow-right ml-1"></i>
            </a>
          </div>
        </div>
        
        <!-- 知识卡片2 -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover">
          <img src="C:\Users\ZhuanZ（无密码）\Desktop\BBMS\colorhub1.jpg" alt="主要威胁与挑战" class="w-full h-48 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-semibold text-dark mb-2">主要威胁与挑战</h3>            <p class="text-gray-600 mb-4">候鸟面临着栖息地丧失、气候变化、环境污染、非法捕猎等多种威胁，这些因素严重影响了候鸟的生存和迁徙。</p>
            <a href="index6.html" class="text-primary hover:text-primary/80 font-medium inline-flex items-center">
              阅读更多 <i class="fa fa-arrow-right ml-1"></i>
            </a>
          </div>
        </div>
        
        <!-- 知识卡片3 -->
        <div class="bg-white rounded-xl shadow-md overflow-hidden card-hover">
          <img src="C:\Users\ZhuanZ（无密码）\Desktop\BBMS\colorhub2.jpg" alt="保护措施与行动" class="w-full h-48 object-cover">
          <div class="p-6">
            <h3 class="text-xl font-semibold text-dark mb-2">保护措施与行动</h3>
            <p class="text-gray-600 mb-4">保护候鸟需要国际合作、栖息地保护、政策法规制定、公众教育等多方面的努力，每个人都可以为候鸟保护贡献一份力量。</p>
            <a href="index7.html" class="text-primary hover:text-primary/80 font-medium inline-flex items-center">
              阅读更多 <i class="fa fa-arrow-right ml-1"></i>
            </a>
          </div>
        </div>
      </div>
      
      <!-- 常见问题 -->

  
  <!-- 保护政策 -->
  <section id="policy" class="py-20 bg-gradient-to-r from-green-100 to-emerald-100 rounded-2xl shadow-lg mt-20 mb-16">
    <div class="container mx-auto px-6 sm:px-8 lg:px-12">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3.5vw,2.8rem)] font-extrabold text-gray-900">保护政策</h2>
        <p class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto">了解我们为候鸟保护制定的各项政策和措施。</p>
      </div>
      <!-- 添加法律法规表格 -->
    <div class="bg-white rounded-xl shadow-md p-6 lg:p-8 mt-8">
      <h3 class="text-xl font-semibold text-gray-800 mb-6">我国保护动物的主要法律法规</h3>
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">法律名称</th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">核心内容</th>
              <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">效力级别</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            <tr>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">中华人民共和国野生动物保护法</td>
              <td class="px-6 py-4 text-sm text-gray-600">保护珍贵、濒危野生动物，维护生物多样性和生态平衡，禁止非法猎捕、交易野生动物及其制品<mcreference link="https://m.66law.cn/question/answer/28804132.html" index="1"></mcreference><mcreference link="http://m.toutiao.com/group/7520238558968300044/" index="2"></mcreference>。</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">国家法律</td>
            </tr>
            <tr>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">中华人民共和国刑法（第341条）</td>
              <td class="px-6 py-4 text-sm text-gray-600">规定非法猎捕、杀害、收购、运输、出售珍贵、濒危野生动物及其制品的刑事责任，最高可处十年以上有期徒刑并处罚金或没收财产<mcreference link="https://m.66law.cn/question/answer/28804132.html" index="1"></mcreference><mcreference link="http://m.toutiao.com/group/7410301802970694155/" index="3"></mcreference>。</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">国家法律</td>
            </tr>
            <tr>
              <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">中华人民共和国陆生野生动物保护实施条例</td>
              <td class="px-6 py-4 text-sm text-gray-600">细化野生动物保护法的实施细则，规范陆生野生动物的保护、管理和利用<mcreference link="http://m.toutiao.com/group/7522469287601193522/" index="4"></mcreference>。</td>
              <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-600">行政法规</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    </div>
  </section>

 <!-- ... existing code ... -->

  <!-- 意见反馈 -->
  <section id="suggestion" class="py-32 bg-gradient-to-b from-gray-50 to-white"> <!-- 添加渐变背景 -->
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-16">
        <h2 class="text-[clamp(1.8rem,3vw,2.8rem)] font-bold text-gray-900">意见反馈</h2> <!-- 添加文本渐变 -->
        <p class="mt-4 text-lg text-gray-600 max-w-2xl mx-auto">您的建议是我们改进的动力，共同完善候鸟保护工作</p>
      </div>
      
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8">
    <div class="bg-white rounded-xl shadow-lg p-8 transform transition-all duration-300 hover:shadow-xl">
        <h3 class="text-2xl font-bold text-gray-800 mb-6 pb-3 border-b border-gray-100">意见反馈</h3> <!-- 统一标题样式 -->
          <form id="suggestionForm">
            <div class="mb-6">
              <label for="suggestionName" class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                <i class="fa fa-user-circle text-green-500 mr-2"></i> <!-- 添加图标 -->
                姓名
              </label>
              <input type="text" id="suggestionName" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 shadow-sm" placeholder="请输入您的姓名">
            </div>
            
            <div class="mb-6">
              <label for="suggestionEmail" class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                <i class="fa fa-envelope text-green-500 mr-2"></i> <!-- 添加图标 -->
                邮箱
              </label>
              <input type="email" id="suggestionEmail" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 shadow-sm" placeholder="请输入您的邮箱">
            </div>
            
            <div class="mb-6">
              <label for="suggestionType" class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                <i class="fa fa-list-alt text-green-500 mr-2"></i> <!-- 添加图标 -->
                反馈类型
              </label>
              <select id="suggestionType" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 shadow-sm appearance-none bg-white">
                <option value="">请选择反馈类型</option>
                <option value="system">系统功能建议</option>
                <option value="data">数据准确性</option>
                <option value="knowledge">保护知识</option>
                <option value="other">其他建议</option>
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-3 text-gray-400">
                <i class="fa fa-chevron-down text-xs"></i> <!-- 添加下拉图标 -->
              </div>
            </div>
            
            <div class="mb-6">
              <label for="suggestionContent" class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                <i class="fa fa-comment text-green-500 mr-2"></i> <!-- 添加图标 -->
                反馈内容
              </label>
              <textarea id="suggestionContent" rows="10" class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500/30 focus:border-green-500 transition-all duration-200 shadow-sm resize-none" placeholder="请输入您的建议或意见..."></textarea>
            </div>
            
            <div class="mb-8">
              <label class="block text-sm font-medium text-gray-700 mb-2 flex items-center">
                <i class="fa fa-paperclip text-green-500 mr-2"></i> <!-- 添加图标 -->
                上传附件（可选）
              </label>
              <div class="mt-1 flex justify-center px-6 pt-8 pb-8 border-2 border-dashed border-gray-200 rounded-xl bg-gray-50 hover:border-green-300 transition-colors duration-200">
                <div class="space-y-2 text-center">
                  <i class="fa fa-cloud-upload text-green-400 text-4xl"></i>
                  <div class="flex text-sm text-gray-600">
                    <label for="file-upload" class="relative cursor-pointer bg-white rounded-md font-medium text-green-600 hover:text-green-700 focus-within:outline-none">
                      <span>上传文件</span>
                      <input id="file-upload" name="file-upload" type="file" class="sr-only">
                    </label>
                    <p class="pl-1">或拖放文件</p>
                  </div>
                  <p class="text-sm text-gray-500">
                    PNG, JPG, GIF, PDF 或 DOCX (最大 10MB)
                  </p>
                </div>
              </div>
            </div>
            
            <button type="submit" class="w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 shadow-md hover:shadow-lg transform hover:-translate-y-0.5 flex items-center justify-center">
              <i class="fa fa-paper-plane mr-2"></i> <!-- 添加图标 -->
              提交反馈
            </button>
          </form>
          </div>
        </div>
        <!-- 常见问题 -->

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-8"> <!-- 与页脚保持一致的宽度参数 -->
    <div class="bg-white rounded-xl shadow-lg p-8 transform transition-all duration-300 hover:shadow-xl">
            <h3 class="text-2xl font-bold text-gray-800 mb-6 pb-3 border-b border-gray-100">常见问题</h3> <!-- 添加标题 -->
            <div class="space-y-8">
              <div class="bg-gray-50 rounded-xl p-10 hover:bg-gray-100 transition-colors duration-200 border border-gray-100">
                <div class="flex items-start">
                  <div class="flex-shrink-0 bg-green-100 p-2 rounded-full mr-4 mt-0.5">
                    <i class="fa fa-question text-green-600"></i> <!-- 添加图标 -->
                  </div>
                  <div>
                    <h4 class="text-xl font-medium text-gray-800 mb-3">如何成为系统的志愿者？</h4>
                    <p class="text-gray-600 leading-relaxed">您可以在"关于我们"页面点击"志愿者招募"链接，填写相关信息并提交申请。我们会在收到申请后的7个工作日内与您联系，审核通过后将为您提供培训和工作安排。</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-gray-50 rounded-xl p-10 hover:bg-gray-100 transition-colors duration-200 border border-gray-100">
                <div class="flex items-start">
                  <div class="flex-shrink-0 bg-green-100 p-2 rounded-full mr-4 mt-0.5">
                    <i class="fa fa-database text-green-600"></i> <!-- 添加图标 -->
                  </div>
                  <div>
                    <h4 class="text-xl font-medium text-gray-800 mb-3">如何获取更多的候鸟研究数据？</h4>
                    <p class="text-gray-600 leading-relaxed">注册并登录系统后，您可以在"数据下载"板块获取公开的候鸟研究数据。对于更详细的专业数据，您可以提交数据申请，经审核通过后即可获取。</p>
                  </div>
                </div>
              </div>
              
              <div class="bg-gray-50 rounded-xl p-10 hover:bg-gray-100 transition-colors duration-200 border border-gray-100">
                <div class="flex items-start">
                  <div class="flex-shrink-0 bg-green-100 p-2 rounded-full mr-4 mt-0.5">
                    <i class="fa fa-ambulance text-green-600"></i> <!-- 添加图标 -->
                  </div>
                  <div>
                    <h4 class="text-xl font-medium text-gray-800 mb-3">发现受伤候鸟应该联系谁？</h4>
                    <p class="text-gray-600 leading-relaxed">如果您发现受伤或迷途的候鸟，请立即联系当地林业部门或野生动物救护中心。您也可以在本系统的"紧急救助"板块查找附近的救助机构联系方式。在确保自身安全的情况下，您可以提供临时保护，但请勿擅自处理。</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

<!-- ... existing code ... -->

<!-- 页脚 -->
<footer class="bg-dark text-white pt-3 pb-6">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-8">
            <div>
                <div class="flex items-center mb-4">
                    <img src="C:\Users\ZhuanZ（无密码）\Desktop\BBMS\1.jpeg" alt="图标" class="text-primary text-2xl mr-2 h-8 w-8">
                    <span class="text-xl font-semibold">北斗候鸟天眼互联系统</span>
                </div>
          <p class="text-gray-400 mb-4">利用北斗卫星定位技术，实时追踪候鸟迁徙轨迹，助力生物多样性保护。</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-weibo"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-wechat"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-twitter"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-instagram"></i>
            </a>
          </div>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-4">快速链接</h3>
          <ul class="space-y-2">
            <li><a href="#home" class="text-gray-400 hover:text-white transition-colors">首页</a></li>
            <li><a href="#map" class="text-gray-400 hover:text-white transition-colors">候鸟轨迹</a></li>
            <li><a href="#knowledge" class="text-gray-400 hover:text-white transition-colors">保护知识</a></li>
            <li><a href="#policy" class="text-gray-400 hover:text-white transition-colors">保护政策</a></li>
            <li><a href="#suggestion" class="text-gray-400 hover:text-white transition-colors">意见反馈</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-4">相关资源</h3>
          <ul class="space-y-2">
            <li><a href="https://www.forestry.gov.cn/" class="text-gray-400 hover:text-white transition-colors">国家林业和草原局</a></li>
            <li><a href="https://www.worldanimalprotection.org.cn/" class="text-gray-400 hover:text-white transition-colors">中国野生动物保护协会</a></li>
            <li><a href="https://www.birdlife.org/" class="text-gray-400 hover:text-white transition-colors">国际鸟类联盟</a></li>
            <li><a href="https://avibase.bsc-eoc.org/avibase.jsp?pg=home&lang=ZH" class="text-gray-400 hover:text-white transition-colors">世界鸟类数据库-候鸟研究</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">候鸟保护志愿者招募</a></li>
          </ul>
        </div>
        
        <div>
          <h3 class="text-lg font-semibold mb-4">联系我们</h3>
          <ul class="space-y-2">
            <li class="flex items-center">
              <i class="fa fa-map-marker text-primary mr-2"></i>
              <span class="text-gray-400">内蒙古鄂尔多斯市准格尔旗民族中学</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-phone text-primary mr-2"></i>
              <span class="text-gray-400">15049580145  15332770716</span>
            </li>
            <li class="flex items-center">
              <i class="fa fa-envelope text-primary mr-2"></i>
              <span class="text-gray-400">zekfek@163.com  uijh0716@qq.com</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="border-t border-gray-800 pt-6 mt-6 text-center text-gray-400 text-sm">
        <p>© 2025 北斗候鸟天眼互联系统-云端. 保留所有权利.</p>
      </div>
    </div>
  </footer>

  <!-- 返回顶部按钮 -->
  <button id="backToTop" class="fixed bottom-6 right-6 bg-primary hover:bg-primary/90 text-white p-3 rounded-full shadow-lg transform transition-all duration-300 opacity-0 translate-y-10">
    <i class="fa fa-arrow-up"></i>
  </button>

  <script>
    // 模拟数据
    const birdData = {
      count: 15,
      trackingPoints: 50,
      migrationRoutes: 8,
      lastUpdate: '2025-07-09 14:30:22',
      birds: [
        { id: 1, name: '白鹤', species: '鹤形目', status: '国家一级保护动物', image: 'https://picsum.photos/200/200?random=10', lat: 39.9042, lng: 116.4074 },
        { id: 2, name: '天鹅', species: '雁形目', status: '国家二级保护动物', image: 'https://picsum.photos/200/200?random=11', lat: 40.8538, lng: 111.8738 },
        { id: 3, name: '大雁', species: '雁形目', status: '有重要生态、科学、社会价值的陆生野生动物', image: 'https://picsum.photos/200/200?random=12', lat: 38.0293, lng: 114.5086 },
        { id: 4, name: '野鸭', species: '雁形目', status: '有重要生态、科学、社会价值的陆生野生动物', image: 'https://picsum.photos/200/200?random=13', lat: 34.3416, lng: 108.9398 },
        { id: 5, name: '白鹭', species: '鹳形目', status: '有重要生态、科学、社会价值的陆生野生动物', image: 'https://picsum.photos/200/200?random=14', lat: 30.5728, lng: 104.0668 },
      ]
    };

    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function() {
      // 更新数据概览
      document.getElementById('birdCount').textContent = birdData.count;
      document.getElementById('trackingPoints').textContent = birdData.trackingPoints;
      document.getElementById('migrationRoutes').textContent = birdData.migrationRoutes;
      document.getElementById('lastUpdate').textContent = birdData.lastUpdate;

      // 初始化地图
      initMap();

      // 初始化图表
      initCharts();

      // 导航栏滚动效果
      window.addEventListener('scroll', function() {
        const navbar = document.getElementById('navbar');
        const backToTop = document.getElementById('backToTop');
        
        if (window.scrollY > 50) {
          navbar.classList.add('shadow-md');
          navbar.classList.remove('bg-white/90');
          navbar.classList.add('bg-white');
          
          backToTop.classList.remove('opacity-0', 'translate-y-10');
          backToTop.classList.add('opacity-100', 'translate-y-0');
        } else {
          navbar.classList.remove('shadow-md');
          navbar.classList.add('bg-white/90');
          navbar.classList.remove('bg-white');
          
          backToTop.classList.add('opacity-0', 'translate-y-10');
          backToTop.classList.remove('opacity-100', 'translate-y-0');
        }
      });

      // 添加回到顶部按钮点击事件
      document.getElementById('backToTop').addEventListener('click', function() {
        window.scrollTo({
          top: 0,
          behavior: 'smooth'
        });
      });

      // 移动端菜单切换
      document.getElementById('mobile-menu-button').addEventListener('click', function() {
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenu.classList.toggle('hidden');
      });

      // 登录模态框
      document.getElementById('loginBtn').addEventListener('click', function() {
        document.getElementById('loginModal').classList.remove('hidden');
      });

      document.getElementById('closeLoginModal').addEventListener('click', function() {
        document.getElementById('loginModal').classList.add('hidden');
      });

      // 点击模态框外部关闭
      document.getElementById('loginModal').addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.add('hidden');
        }
      });

      // 登录表单提交
      document.getElementById('loginForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const username = document.getElementById('username').value.trim();
        const serialNumber = document.getElementById('serialNumber').value.trim();
        const rememberMe = document.getElementById('rememberMe').checked;
        const submitBtn = this.querySelector('button[type="submit"]');
        const originalBtnText = submitBtn.innerHTML;

        // 基本验证
        if (!username) {
          showError('username', '请输入用户名');
          return;
        }
        if (!serialNumber) {
          showError('serialNumber', '请输入序列号');
          return;
        }

        // 禁用提交按钮防止重复提交
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<i class="fa fa-spinner fa-spin mr-1"></i> 验证中...';

        // 模拟API请求验证序列号
        setTimeout(() => {
          // 这里可以替换为真实的API调用
          if (validateSerialNumber(username, serialNumber)) {
            // 登录成功
            if (rememberMe) {
              // 记住登录状态（实际项目中应使用加密存储）
              localStorage.setItem('birdTrackingUser', JSON.stringify({username, lastLogin: new Date().toISOString()}));
            }
            document.getElementById('loginModal').classList.add('hidden');
            showSuccessMessage('登录成功，欢迎使用北斗候鸟天眼互联系统！');
            updateUserInfo(username);
          } else {
            // 验证失败
            showError('serialNumber', '用户名或序列号不正确，请重新输入');
            submitBtn.disabled = false;
            submitBtn.innerHTML = originalBtnText;
          }
        }, 1500);
      });

      // 意见反馈表单提交
      document.getElementById('suggestionForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('suggestionName').value;
        const email = document.getElementById('suggestionEmail').value;
        const suggestionType = document.getElementById('suggestionType').value;
        const content = document.getElementById('suggestionContent').value;
        
        if (!name || !email || !suggestionType || !content) {
          alert('请填写完整的反馈信息');
          return;
        }
        
        // 模拟提交成功
        showSuccessMessage('反馈提交成功，感谢您的建议！');
        this.reset();
      });

      // FAQ切换


      // 平滑滚动
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const targetElement = document.querySelector(targetId);
          if (targetElement) {
            // 关闭移动端菜单（如果打开）
            document.getElementById('mobile-menu').classList.add('hidden');
            
            // 滚动到目标位置
            targetElement.scrollIntoView({
              behavior: 'smooth'
            });
          }
        });
      });

      // 模拟位置更新按钮
      document.getElementById('simulateBtn').addEventListener('click', function() {
        simulateLocationUpdate();
      });

      // 生成轨迹图按钮
      document.getElementById('generateRouteBtn').addEventListener('click', function() {
        generateMigrationRoute();
      });
    });

    // 初始化地图
    function initMap() {
      // 模拟地图加载延迟
      setTimeout(() => {
        document.getElementById('mapLoading').classList.add('hidden');
        
        // 绘制基础地图
        const mapCanvas = document.getElementById('migrationMap');
        const ctx = mapCanvas.getContext('2d');
        
        // 设置地图尺寸
        const width = mapCanvas.offsetWidth;
        const height = mapCanvas.offsetHeight;
        mapCanvas.width = width;
        mapCanvas.height = height;
        
        // 绘制基础地图背景（简化处理）
        ctx.fillStyle = '#E6F7FF'; // 浅蓝色背景表示海洋
        ctx.fillRect(0, 0, width, height);
        
        // 绘制简化的大陆轮廓
        ctx.fillStyle = '#F5F5DC'; // 浅棕色表示陆地
        ctx.beginPath();
        ctx.moveTo(width * 0.2, height * 0.3);
        ctx.bezierCurveTo(
          width * 0.4, height * 0.1,
          width * 0.6, height * 0.1,
          width * 0.8, height * 0.3
        );
        ctx.bezierCurveTo(
          width * 0.9, height * 0.5,
          width * 0.8, height * 0.7,
          width * 0.6, height * 0.8
        );
        ctx.bezierCurveTo(
          width * 0.4, height * 0.9,
          width * 0.2, height * 0.8,
          width * 0.1, height * 0.6
        );
        ctx.bezierCurveTo(
          width * 0.1, height * 0.4,
          width * 0.15, height * 0.3,
          width * 0.2, height * 0.3
        );
        ctx.fill();
        
        // 绘制候鸟位置
        drawBirds(ctx, width, height);
        
        // 添加地图交互
        mapCanvas.addEventListener('click', function(e) {
          const rect = mapCanvas.getBoundingClientRect();
          const x = e.clientX - rect.left;
          const y = e.clientY - rect.top;
          
          // 检查是否点击了候鸟
          checkBirdClick(x, y);
        });
        
        // 默认选择第一只候鸟
        if (birdData.birds.length > 0) {
          selectBird(birdData.birds[0]);
        }
      }, 1500);
    }

    // 绘制候鸟位置
    function drawBirds(ctx, width, height) {
      // 清空之前的绘制
      ctx.clearRect(0, 0, width, height);
      
      // 重新绘制地图背景和大陆
      ctx.fillStyle = '#E6F7FF';
      ctx.fillRect(0, 0, width, height);
      
      ctx.fillStyle = '#F5F5DC';
      ctx.beginPath();
      ctx.moveTo(width * 0.2, height * 0.3);
      ctx.bezierCurveTo(
        width * 0.4, height * 0.1,
        width * 0.6, height * 0.1,
        width * 0.8, height * 0.3
      );
      ctx.bezierCurveTo(
        width * 0.9, height * 0.5,
        width * 0.8, height * 0.7,
        width * 0.6, height * 0.8
      );
      ctx.bezierCurveTo(
        width * 0.4, height * 0.9,
        width * 0.2, height * 0.8,
        width * 0.1, height * 0.6
      );
      ctx.bezierCurveTo(
        width * 0.1, height * 0.4,
        width * 0.15, height * 0.3,
        width * 0.2, height * 0.3
      );
      ctx.fill();
      
      // 绘制候鸟位置
      birdData.birds.forEach(bird => {
        // 将经纬度映射到画布坐标
        const x = width * ((bird.lng + 180) / 360);
        const y = height * ((bird.lat - 90) / -180);
        
        // 绘制候鸟标记
        ctx.beginPath();
        ctx.arc(x, y, 8, 0, 2 * Math.PI);
        ctx.fillStyle = '#165DFF'; // 主色调
        ctx.fill();
        
        // 添加白色边框
        ctx.beginPath();
        ctx.arc(x, y, 8, 0, 2 * Math.PI);
        ctx.strokeStyle = 'white';
        ctx.lineWidth = 2;
        ctx.stroke();
        
        // 添加鸟类名称
        ctx.fillStyle = '#333';
        ctx.font = '12px Arial';
        ctx.fillText(bird.name, x + 12, y + 4);
      });
    }

    // 检查是否点击了候鸟
    function checkBirdClick(x, y) {
      const mapCanvas = document.getElementById('migrationMap');
      const width = mapCanvas.width;
      const height = mapCanvas.height;
      
      birdData.birds.forEach(bird => {
        // 将经纬度映射到画布坐标
        const birdX = width * ((bird.lng + 180) / 360);
        const birdY = height * ((bird.lat - 90) / -180);
        
        // 计算距离
        const distance = Math.sqrt(Math.pow(x - birdX, 2) + Math.pow(y - birdY, 2));
        
        // 如果点击在候鸟标记附近
        if (distance <= 15) {
          selectBird(bird);
          return;
        }
      });
    }

    // 选择候鸟并更新信息
    function selectBird(bird) {
      document.getElementById('currentLat').textContent = bird.lat.toFixed(4);
      document.getElementById('currentLng').textContent = bird.lng.toFixed(4);
      document.getElementById('birdName').textContent = bird.name;
      document.getElementById('birdStatus').textContent = bird.status;
      document.getElementById('birdImage').src = bird.image;
      document.getElementById('birdImage').alt = bird.name;
    }

    // 模拟位置更新
    function simulateLocationUpdate() {
      // 显示加载状态
      const mapLoading = document.getElementById('mapLoading');
      mapLoading.classList.remove('hidden');
      
      // 随机更新候鸟位置
      birdData.birds.forEach(bird => {
        // 在当前位置附近随机偏移，增大偏移范围让坐标更分散
        const latOffset = (Math.random() - 0.5) * 20; // -10 到 10 度
        const lngOffset = (Math.random() - 0.5) * 20; // -10 到 10 度
        
        bird.lat = Math.max(-90, Math.min(90, bird.lat + latOffset));
        bird.lng = Math.max(-180, Math.min(180, bird.lng + lngOffset));
      });
      
      // 获取当前时间，与按钮按下时间同步更新数据
      const now = new Date();
      const formattedTime = now.getFullYear() + '-' + 
                           String(now.getMonth() + 1).padStart(2, '0') + '-' + 
                           String(now.getDate()).padStart(2, '0') + ' ' + 
                           String(now.getHours()).padStart(2, '0') + ':' + 
                           String(now.getMinutes()).padStart(2, '0') + ':' + 
                           String(now.getSeconds()).padStart(2, '0');
      document.getElementById('lastUpdate').textContent = formattedTime;
      
      // 重新绘制地图
      setTimeout(() => {
        const mapCanvas = document.getElementById('migrationMap');
        const ctx = mapCanvas.getContext('2d');
        drawBirds(ctx, mapCanvas.width, mapCanvas.height);
        mapLoading.classList.add('hidden');
      }, 1000);
    }

    // 生成迁徙路线
    function generateMigrationRoute() {
      // 显示加载状态
      const mapLoading = document.getElementById('mapLoading');
      mapLoading.classList.remove('hidden');
      
      // 随机生成迁徙路线
      setTimeout(() => {
        const mapCanvas = document.getElementById('migrationMap');
        const ctx = mapCanvas.getContext('2d');
        const width = mapCanvas.width;
        const height = mapCanvas.height;
        
        // 重新绘制地图和候鸟
        drawBirds(ctx, width, height);
        
        // 绘制迁徙路线
        ctx.strokeStyle = '#FF9F43'; // 橙色路线
        ctx.lineWidth = 2;
        ctx.setLineDash([5, 3]); // 虚线
        
        // 为每只候鸟生成一条简单的曲线
        birdData.birds.forEach(bird => {
          const startX = width * ((bird.lng + 180) / 360);
          const startY = height * ((bird.lat - 90) / -180);
          
          // 随机生成终点
          const endLat = Math.max(-90, Math.min(90, bird.lat + (Math.random() - 0.5) * 30));
          const endLng = Math.max(-180, Math.min(180, bird.lng + (Math.random() - 0.5) * 60));
          const endX = width * ((endLng + 180) / 360);
          const endY = height * ((endLat - 90) / -180);
          
          // 绘制贝塞尔曲线
          ctx.beginPath();
          ctx.moveTo(startX, startY);
          
          // 控制点
          const controlX1 = (startX + endX) / 2 + (Math.random() - 0.5) * 100;
          const controlY1 = (startY + endY) / 2 + (Math.random() - 0.5) * 50;
          const controlX2 = (startX + endX) / 2 + (Math.random() - 0.5) * 100;
          const controlY2 = (startY + endY) / 2 + (Math.random() - 0.5) * 50;
          
          ctx.bezierCurveTo(controlX1, controlY1, controlX2, controlY2, endX, endY);
          ctx.stroke();
          
          // 绘制箭头
          drawArrowhead(ctx, endX, endY, controlX2, controlY2);
        });
        
        mapLoading.classList.add('hidden');
        
        // 更新路线数量
        birdData.migrationRoutes = birdData.birds.length;
        document.getElementById('migrationRoutes').textContent = birdData.migrationRoutes;
        
        // 显示成功消息
        alert('轨迹图生成成功！');
      }, 1500);
    }

    // 绘制箭头
    function drawArrowhead(ctx, x, y, fromX, fromY) {
      const angle = Math.atan2(y - fromY, x - fromX);
      const headLength = 10;
      
      ctx.save();
      ctx.beginPath();
      ctx.moveTo(x, y);
      ctx.lineTo(
        x - headLength * Math.cos(angle - Math.PI / 6),
        y - headLength * Math.sin(angle - Math.PI / 6)
      );
      ctx.lineTo(
        x - headLength * Math.cos(angle + Math.PI / 6),
        y - headLength * Math.sin(angle + Math.PI / 6)
      );
      ctx.closePath();
      ctx.fillStyle = '#FF9F43';
      ctx.fill();
      ctx.restore();
    }

    // 初始化图表
    function initCharts() {
      // 候鸟数量统计图表
      const birdCountCtx = document.getElementById('birdCountChart').getContext('2d');
      new Chart(birdCountCtx, {
        type: 'bar',
        data: {
          labels: ['白鹤', '天鹅', '大雁', '野鸭', '白鹭', '其他'],
          datasets: [{
            label: '监测数量',
            data: [12, 28, 45, 32, 18, 75],
            backgroundColor: [
              'rgba(22, 93, 255, 0.7)',
              'rgba(54, 211, 153, 0.7)',
              'rgba(255, 159, 67, 0.7)',
              'rgba(236, 72, 153, 0.7)',
              'rgba(124, 58, 237, 0.7)',
              'rgba(148, 163, 184, 0.7)'
            ],
            borderColor: [
              'rgba(22, 93, 255, 1)',
              'rgba(54, 211, 153, 1)',
              'rgba(255, 159, 67, 1)',
              'rgba(236, 72, 153, 1)',
              'rgba(124, 58, 237, 1)',
              'rgba(148, 163, 184, 1)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
      
      // 迁徙季节分布图表
      const migrationSeasonCtx = document.getElementById('migrationSeasonChart').getContext('2d');
      new Chart(migrationSeasonCtx, {
        type: 'line',
        data: {
          labels: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月'],
          datasets: [{
            label: '春季迁徙',
            data: [5, 12, 35, 60, 40, 15, 5, 0, 0, 0, 0, 0],
            borderColor: 'rgba(22, 93, 255, 1)',
            backgroundColor: 'rgba(22, 93, 255, 0.1)',
            tension: 0.3,
            fill: true
          }, {
            label: '秋季迁徙',
            data: [0, 0, 0, 0, 0, 5, 20, 45, 65, 40, 20, 8],
            borderColor: 'rgba(255, 159, 67, 1)',
            backgroundColor: 'rgba(255, 159, 67, 0.1)',
            tension: 0.3,
            fill: true
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true
            }
          }
        }
      });
    }

    // 新增：验证序列号
    function validateSerialNumber(username, serialNumber) {
      // 模拟有效的用户-序列号组合
      const validUsers = {
        'admin': 'BDHT-2025-0001',
        'researcher': 'BDHT-2025-0002',
        'observer': 'BDHT-2025-0003',
        'guest': 'BDHT-2025-0004'
      };

      // 序列号格式验证 (示例: BDHT-YYYY-XXXX)
      const serialPattern = /^BDHT-\d{4}-\d{4}$/;
      if (!serialPattern.test(serialNumber)) {
        return false;
      }

      // 用户名和序列号匹配验证
      return validUsers[username] === serialNumber;
    }

    // 新增：显示错误信息
    function showError(fieldId, message) {
      const field = document.getElementById(fieldId);
      let errorElement = field.nextElementSibling;

      // 如果错误元素不存在则创建
      if (!errorElement || !errorElement.classList.contains('text-red-500')) {
        errorElement = document.createElement('p');
        errorElement.className = 'text-red-500 text-sm mt-1';
        field.parentNode.insertBefore(errorElement, field.nextSibling);
      }

      errorElement.textContent = message;

      // 添加错误样式
      field.classList.add('border-red-500');

      // 输入时移除错误样式
      field.addEventListener('input', function() {
        field.classList.remove('border-red-500');
        errorElement.textContent = '';
      }, { once: true });
    }

    // 新增：显示成功消息
    function showSuccessMessage(message) {
      // 创建消息元素
      const messageElement = document.createElement('div');
      messageElement.className = 'fixed top-4 right-4 bg-green-500 text-white px-4 py-3 rounded-md shadow-lg z-50 flex items-center';
      messageElement.innerHTML = '<i class="fa fa-check-circle mr-2"></i> ' + message;

      // 添加到页面
      document.body.appendChild(messageElement);

      // 3秒后自动消失
      setTimeout(() => {
        messageElement.classList.add('opacity-0', 'transition-opacity', 'duration-300');
        setTimeout(() => messageElement.remove(), 300);
      }, 3000);
    }

    // 新增：更新用户信息显示
    function updateUserInfo(username) {
      // 更新导航栏用户信息
      document.getElementById('loginBtn').style.display = 'none';
      const userMenuButton = document.getElementById('user-menu-button');
      if (userMenuButton) {
        userMenuButton.style.display = 'block';
      }

      // 在实际项目中，这里可以从服务器获取用户详细信息
      const userInfoElement = document.createElement('div');
      userInfoElement.className = 'absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-10';
      userInfoElement.innerHTML = `
        <a href="#profile" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">个人资料</a>
        <a href="#settings" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">系统设置</a>
        <div class="border-t border-gray-100"></div>
        <a href="#logout" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" onclick="logout()">退出登录</a>
      `;
      userInfoElement.id = 'userDropdown';
      userInfoElement.style.display = 'none';

      // 如果下拉菜单已存在则移除
      const existingDropdown = document.getElementById('userDropdown');
      if (existingDropdown) existingDropdown.remove();

      // 添加新的下拉菜单
      document.querySelector('.ml-3.relative').appendChild(userInfoElement);

      // 绑定下拉菜单切换事件
      userMenuButton.addEventListener('click', function() {
        const dropdown = document.getElementById('userDropdown');
        dropdown.style.display = dropdown.style.display === 'block' ? 'none' : 'block';
      });
    }

    // 新增：退出登录
    function logout() {
      localStorage.removeItem('birdTrackingUser');
      document.getElementById('loginBtn').style.display = 'block';
      const userMenuButton = document.getElementById('user-menu-button');
      if (userMenuButton) {
        userMenuButton.style.display = 'none';
      }
      const dropdown = document.getElementById('userDropdown');
      if (dropdown) dropdown.remove();
      showSuccessMessage('已成功退出登录');
    }

    // 新增：页面加载时检查登录状态
    window.addEventListener('load', function() {
      const savedUser = localStorage.getItem('birdTrackingUser');
      if (savedUser) {
        const user = JSON.parse(savedUser);
        updateUserInfo(user.username);
        showSuccessMessage(`欢迎回来，${user.username}！`);
      }
    })
  
  document.addEventListener('DOMContentLoaded', function() {
    const username = localStorage.getItem('username');
    if (username) {
      const usernameDisplay = document.getElementById('usernameDisplay');
      usernameDisplay.textContent = username;
      usernameDisplay.classList.remove('hidden');
      document.getElementById('loginBtn').style.display = 'none';
    }
  });
  </script>
</body>
</html>
    